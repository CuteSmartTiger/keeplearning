由于root用户拥有所有的权限，所有要为项目(vdidesktop)所在的容器单独创建用户权限，让通过此文件配置连接到数据库：
即：程序
第一阶段：
1. 创建供项目连接的账号
进入MySQL命令模式，创建vdidesktop用户，允许任何IP访问，通过密码：
CREATE USER 'vdidesktop'@'%' IDENTIFIED BY '123123';

2. 针对vdidesktop用户授予对desktop表的增删改查权限：
use desktop;

GRANT select,insert,delete,update ON  desktop.*  TO  'vdidesktop'@'%';

3. 更改代码中的数据库配置将root改为vdidesktop：
SQLALCHEMY_DATABASE_URI = 'mysql://vdidesktop:123123@vdidesktop-mysql/desktop?charset=utf8&use_unicode=0'

重启项目所在容器，能够正常访问网页则数据库连接成功


配置主：
1. 进入MySQL容器后在/etc/my.conf中写入
server-id=1
log-bin=mysql-bin
binlog-ignore-db=information_schema
binlog-ignore-db=performance_schema
# binlog_format=MIXED

2. 退出数据库容器然后重启容器
重启：docker restart vdidesktop-mysql

3. 进入mysql容器的命令模式，然后针对从授予复制的权限
grant replication slave on *.* to 'vdidesktop'@'192.168.6.%' identified by '123123';

flush privileges;

# 记录master文件的号与对应的位置
show master status;



配置从：
在/etc/my.cnf中写入
server-id=2
log-bin=mysql-bin
replicate-ignore-db=mysql
replicate-ignore-db=information_schema
replicate-ignore-db=performance_schema
log-slave-updates
slave-skip-errors=all
read_only=1

重启容器然后再进入MySQL命令模式：
stop slave;
change master to master_host='192.168.6.95',master_user='vdidesktop',master_password='123123',master_log_file='mysql-bin.000001',master_log_pos=341;
start slave;

# 出现两个yes则主从配置完成，从只可读不可写
show slave status\G

配置第二个从：
除了将server_id改为3，其他配置与从一样，然后重启数据库容器
